<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
        <meta name="description" content="">
        <meta name="author" content="">
        <title>MTester-硬件测试</title>
        <!-- Bootstrap core CSS -->
        <link rel="icon" href="images/favicon.ico" />
        <link href="vendors/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <link href="css/style.css" rel="stylesheet">
        <script src="vendors/jquery-2.1.3.min.js"></script>
        <script src="vendors/socket.io-1.3.7.js"></script>
        <script src="js/sensorium.js"></script>
        <script>
        var socket = io.connect('127.0.0.1:3003');
        var sensorium = new Sensorium(socket);
        var action = sensorium.action();
        </script>
    </head>
    <body>
        <!-- Fixed navbar -->
        <nav class="navbar navbar-fixed-top navbar-inverse">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="index.html">MTester <span>测试</span></a>
                </div>
                <div id="navbar" class="collapse navbar-collapse">
                    <ul class="nav navbar-nav pull-right">
                        <li>
                            <a href="https://shimo.im/doc/R3xesVC3b7kRNhPJ" target="_blank">硬件协议文档</a>
                        </li>
                        <li>
                            <a href="api.html">api文档</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="container maincontent">
            <div class="row">
                <div class="">
                    <div class="form-inline leftbar">
                        <!-- 串口相关配置 -->
                        <div class="serialport">
                            <h5>串口相关配置</h5>
                            <div class="input-group">
                                <span class="input-group-addon">串口号</span>
                            <select class="form-control " id="com_num">
                                <option value="0">--选择串口--</option>
                            </select>
                        </div>
                        <p id="helpBlock" class="help-block tip"></p>
                    </div>
                    <div class="msg msg-fun">
                        <div class="title">API>>></div>
                        <div class="msg-content"></div>
                    </div>
                    <div class="msg msg-serial">
                        <div class="title">串口数据>>></div>
                        <div class="msg-content" id="msgContent"></div>
                        <span class="clear-screen">清除数据</span>
                    </div>
                    <div class="serial-send form-group">
                        <select class="form-control" data-type="16" id="dataSendType">
                            <option value="16">16进制</option>
                            <option value="chart">字符串模式</option>`
                            <option value="10">10进制</option>
                        </select>
                        <input type="text" class="form-control" id="serialDataInupt" value="ff 55 06 00 02 0a 09 9c ff">
                        <button class="btn btn-primary" onclick="action.sendSerialData(document.getElementById('serialDataInupt').value, document.getElementById('dataSendType').getAttribute('data-type'))">send</button>
                    </div>
                    <div class="calculate form-group">
                        <label for="">计算数值：</label>
                        <input type="text" class="form-control" id="calInput" value="e6 9e 46 40">
                        <button class="btn btn-primary" onclick="calculate(document.getElementById('calInput').value);">计算</button>
                        <p id="calValue" class="help-block tip"></p>
                    </div>

                    <div class="pic-show">
                        <div class="head"></div>
                        <div class="content">
                            <div class="img-wrap">
                                <img src="" alt="">
                            </div>
                            <div class="img-title"></div>
                        </div>
                    </div>
                </div>

                <!-- ops -->
                <div class="col-xs-7 ops">
                    <div class="group form-inline">
                        <label for="" style="width: 100px;"><b>选择主板类型</b></label>
                        <select class="form-control" style="width: 200px;" id="deviceType">
                            <option value="2560">auriga</option>
                            <option value="mcore">mcore</option>
                            <option value="orion">orion</option>
                            <option value="zeropi">zeropi</option>
                        </select>
                        <button type="button" class="btn btn-link" data-toggle="modal" data-target="#protocol">
                          通信协议查阅
                        </button>

                    </div>

                    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                        <!-- 辅助功能 -->
                        <div class="panel panel-default category">
                            <div class="panel-heading" role="tab" id="headingOne">
                                <h4 class="panel-title">
                                <a role="button" data-toggle="collapse"  href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                    辅助功能
                                    <span class="badge"></span>
                                </a>
                                </h4>
                            </div>
                            <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                                <div class="panel-body">
                                    <!-- version -->
                                    <div class="group">
                                        <button class="btn btn-primary" onclick="action.getVersion();">
                                            读取版本号
                                        </button>
                                        <label for="" class="version"></label>
                                    </div>

                                    <div class="group">
                                        <button class="btn btn-primary" onclick="action.getBattery();">
                                            读取电量
                                        </button>
                                        <label for="" class="battery"></label>
                                    </div>

                                    <div class="group">
                                        <label for="">切换模式<i class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="top" title="device 套件的类别：0x10: orion;
                                        0x11: auriga"></i>：</label>
                                        <button class="btn btn-primary" onclick="action.setMode(0);">切换蓝牙模式</button>
                                        <button class="btn btn-primary" onclick="action.setMode(1);">切换超声波模式</button>
                                        <button class="btn btn-primary" onclick="action.setMode(2);">切换自平衡模式</button>
                                        <button class="btn btn-primary" onclick="action.setMode(3);">切换红外模式</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 运动 -->
                        <div class="panel panel-default category">
                            <div class="panel-heading" role="tab" id="headingTwo">
                                <h4 class="panel-title">
                                    <a class="collapsed" role="button" data-toggle="collapse"  href="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                                        运动类
                                        <span class="badge"></span>
                                    </a>
                                </h4>
                            </div>
                            <div id="collapseTwo" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingTwo">
                                <div class="panel-body">
                                    <!-- DC motor -->
                                    <div class="group">
                                        <label for="">
                                            <span data-device="dcMotor">直流电机</span>
                                            <i class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="top" title="mbot port口是9和10，其他是1和2"></i>:</label>
                                        <button class="btn btn-primary" onclick="action.setDcMotor(this.children[0].value, this.children[1].value);">
                                        set DC motor with speed <input type="text" value="100">
                                        at port <input type="text" value="1" class="port">
                                        </button>

                                        <button class="btn btn-primary" onclick="action.stop(this);">
                                            stop
                                        </button>
                                    </div>
                                    <div class="group">
                                        <label for=""><span data-device="stepperMotor">步进电机</span>:</label>
                                        <button class="btn btn-primary" onclick="action.setStepperMotor(this.children[0].value, this.children[1].value, this.children[2].value);">
                                        set Stepper motor with speed <input type="text" value="3000">
                                        to distance <input type="text" value="1000">
                                        at port <input type="text" value="2" class="port">
                                        </button>
                                    </div>
                                    <div class="group">
                                        <label for=""><span data-device="encoderMotor">板载编码电机</span>:</label>
                                        <button class="btn btn-primary form-inline" onclick="action.setEncoderMotor(this.children[0].value, this.children[2].value);">
                                        set Encoder motor with speed <input type="text" value="100">
                                        at port <input type="text" value="0" disabled="true" class="port">
                                        at slot <select name="" id="" class="form-control" class="slot">
                                                    <option value="1">1</option>
                                                    <option value="2">2</option>
                                                </select>
                                        </button>
                                    </div>
                                    <div class="group">
                                        <label for=""><span data-device="servoMotor">舵机</span><i class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="top" title="角度是0到180度"></i>:</label>
                                        <button class="btn btn-primary" onclick="action.setServoMotor(this.children[0].value, this.children[1].value, this.children[2].value);">
                                        set Servo motor with angle <input type="number" value="45"> °
                                        at port <input type="text" value="3" class="port">
                                        at slot <input type="text" value="1" class="slot">
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 传感器 -->
                        <div class="panel panel-default category">
                            <div class="panel-heading" role="tab" id="headingThree">
                                <h4 class="panel-title">
                                <a class="collapsed" role="button" data-toggle="collapse"  href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    传感器（感知类）
                                    <span class="badge"></span>
                                </a>
                                </h4>
                            </div>
                            <div id="collapseThree" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingThree">
                                <div class="panel-body">
                                    <div class="group">
                                        <label for=""><span data-device="temperatureAndHumiditySensor">读取温度</span>:</label>
                                        <button class="btn btn-primary" onclick="action.openTemperature(this.children[0].value);">openTemperature at port <input type="text" value="3"></button>

                                        <button class="btn btn-primary" onclick="action.stopTemperature();">stopTemperature</button>
                                    </div>

                                    <!-- Light sensor -->
                                    <div class="group lightSensor">
                                        <label for=""><span data-device="lightSensor">读取光线</span><i class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="top" title="mzero板载的光线传感器有两个，分别占用port口：11和12"></i>:</label>
                                         <button class="btn btn-primary" onclick="action.openLightSensor(this.children[0].value);">
                                            openLightSensor at port
                                            <input type="text" value="11">
                                        </button>

                                        <button class="btn btn-primary" onclick="action.stopLightSensor();">
                                            stopLightSensor
                                        </button>
                                        <label for=""><b class="sensor-value"></b></label>
                                    </div>

                                    <!-- line follow -->
                                    <div class="group lineFollow">
                                        <label for=""><span data-device="lineFollowerSensor">读取巡线</span><i class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="top" title="巡线的接收值只有四种：BLACK_BLACK:128,
                                        BLACK_WHITE: 64,
                                        WHITE_BLACK: 191,
                                        WHITE_WHITE: 0"></i>:</label>
                                         <button class="btn btn-primary" onclick="action.openLineFollow(this.children[0].value);">
                                            openLineFollow at port
                                            <input type="text" value="2">
                                        </button>

                                        <button class="btn btn-primary" onclick="action.stopLineFollow();">
                                            stopLineFollow
                                        </button>

                                        <label for=""><b class="sensor-value"></b></label>
                                    </div>

                                    <!-- ultrasonic -->
                                    <div class="group ultrasonic">
                                        <label for=""><span data-device="ultrasonicSensor">读取超声波</span>:</label>
                                         <button class="btn btn-primary" onclick="action.openUltrasonic(this.children[0].value);">
                                            openUltrasonic at port
                                            <input type="text" value="3">
                                        </button>

                                        <button class="btn btn-primary" onclick="action.stopUltrasoinic();">
                                            stopUltrasoinic
                                        </button>

                                        <label for=""><b class="sensor-value"></b></label>
                                    </div>

                                    <div class="group">
                                        <label for=""><span data-device="soundSensor">读取音量</span><i class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="top" title="mzero的板载port口是0x0e"></i>:</label>
                                        <button class="btn btn-primary" onclick="action.openSound(this.children[0].value);">openSound at port <input type="text" value="7"></button>

                                        <button class="btn btn-primary" onclick="action.stopSound();">stopSound</button>
                                    </div>

                                    <div class="group">
                                        <label for=""><span data-device="infraredReceiverDecoder">人体红外传感器</span>:</label>
                                        <button class="btn btn-primary" onclick="action.openInfrared(this.children[0].value);">openInfrared at port <input type="text" value="6"></button>

                                        <button class="btn btn-primary" onclick="action.stopInfrared();">stopInfrared</button>
                                    </div>

                                    <div class="group">
                                        <label for=""><span data-device="pirMotionSensor">人体感应开关</span>:</label>
                                        <button class="btn btn-primary" disabled="true" onclick="">openPir at port <input type="text" value="6"></button>

                                        <button class="btn btn-primary" disabled="true" onclick=";">stopPir</button>
                                    </div>

                                    <!-- 陀螺仪 -->
                                    <div class="group">
                                        <label for=""><span data-device="gyroSensor">读取陀螺仪</span><i class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="top" title="port口为0表示外置，port口为1表示板载，默认是板载"></i>:</label>

                                        <button class="btn btn-primary" onclick="action.getGyro('01',this.children[0].value);">
                                            x轴 at port <input type="text" value="1">
                                        </button>
                                        <button class="btn btn-primary" onclick="action.getGyro('02',this.children[0].value);">
                                            y轴 at port <input type="text" value="1">
                                        </button>
                                        <button class="btn btn-primary" onclick="action.getGyro('03',this.children[0].value);">
                                            z轴 at port <input type="text" value="1">
                                        </button>
                                        <button class="btn btn-primary" onclick="action.stopGyro()">
                                            stop
                                        </button>
                                    </div>

                                    <div class="group">
                                        <label for=""><span data-device="temperatureAndHumiditySensor">读取湿度</span>:</label>
                                        <button class="btn btn-primary" onclick="action.openHumidity(this.children[0].value, this.children[1].value);">openHumidity at port <input type="text" value="3">
                                        at slot <input type="text" value="1"></button>

                                        <button class="btn btn-primary" onclick="action.stopHumidity();">stopHumidity</button>
                                    </div>
                                    <div class="group">
                                        <label for=""><span data-device="flameSensor">火焰传感器</span><i class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="top" title="获取温度，单位℃"></i>:</label>
                                        <button class="btn btn-primary" onclick="action.openFire(this.children[0].value);">openFire at port <input type="text" value="6"></button>

                                        <button class="btn btn-primary" onclick="action.stopFire();">stopFire</button>
                                    </div>
                                    <div class="group">
                                        <label for=""><span data-device="gasSensor">气体传感器</span><i class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="top" title="获取温度，单位℃"></i>:</label>

                                        <button class="btn btn-primary" onclick="action.openGas(this.children[0].value);">openGas at port <input type="text" value="6"></button>

                                        <button class="btn btn-primary" onclick="action.stopGas();">stopGas</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 提示类 -->
                        <div class="panel panel-default category">
                            <div class="panel-heading" role="tab" id="headingFour">
                                <h4 class="panel-title">
                                <a class="collapsed" role="button" data-toggle="collapse"  href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                    提示类
                                    <span class="badge"></span>
                                </a>
                                </h4>
                            </div>
                            <div id="collapseFour" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingFour">
                                <div class="panel-body">
                                    <!-- led -->
                                    <div class="group">
                                        <label for=""><span data-device="rgbLed">LED</span><i class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="top" title="板载led灯的port口都为0；index为0表示全部灯，0以外的值表示灯的序号。slot是外接灯带的时候会有，默认值为2"></i>:</label>
                                        <button class="btn btn-primary" onclick="action.turnOnLed(this.children[0].value, this.children[1].value, this.children[2].value, this.children[3].value, this.children[4].value, this.children[5].value);">
                                            turnOnLed at port <input type="text" value="3">
                                            slot <input type="text" value="2">
                                            index <input type="text" value="0">
                                            R: <input type="text" value="100">
                                            G: <input type="text" value="0">
                                            B: <input type="text" value="0">
                                        </button> <p></p>

                                        <button class="btn btn-primary" onclick="action.turnOffLed(this);">
                                            turnOffLed
                                        </button>
                                    </div>

                                    <!-- buzzer -->
                                    <div class="group">
                                        <div class="form-inline">
                                            <label for="">蜂鸣器<i class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="top" title="板载蜂鸣器的port口为0a"></i>:</label>
                                            <label for="">选择节拍</label>
                                            <select class="form-control" style="width: 140px;" id="beats">
                                            </select>
                                            <label for="">port口</label>
                                            <input type="text" value="10" class="form-control" id="tonePort">
                                        </div>
                                        <div class="mzero-buzzers"></div>
                                    </div>

                                    <div class="group">
                                        <label for=""><span data-device="serialDisplay">数码管</span>:</label>
                                        <button class="btn btn-primary" onclick="action.setTube(this.children[0].value, this.children[1].value);">
                                            setTube at port <input type="text" value="3">
                                            with number <input type="number" value="10">
                                        </button>
                                    </div>
                                    <div class="group">
                                        <label for="">MP3模块:</label>
                                        <button class="btn btn-primary" disabled="true">MP3模块</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 控制类 -->
                        <div class="panel panel-default category">
                            <div class="panel-heading" role="tab" id="headingFive">
                                <h4 class="panel-title">
                                <a class="collapsed" role="button" data-toggle="collapse"  href="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                    控制类（向外界输出信号）
                                    <span class="badge"></span>
                                </a>
                                </h4>
                            </div>
                            <div id="collapseFive" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingFive">
                                <div class="panel-body">
                                    <div class="group">
                                        <label for=""><span data-device="joystick">读取摇杆</span><i class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="top" title="x轴的范围：486到-490；y轴范围：488到-490"></i>：</label>
                                        <button class="btn btn-primary" onclick="action.readRocker(this.children[0].value, this.children[1].value);">readRocker
                                            <select name="" id="">
                                                <option value="1">x轴</option>
                                                <option value="2">y轴</option>
                                            </select>
                                            at port <input type="text" value="6">
                                        </button>

                                        <button class="btn btn-primary" onclick="action.stopRocker();">
                                            stopRocker
                                        </button>
                                    </div>
                                    <div class="group">
                                        <label for=""><span data-device="shutter">相机快门(待测试)</span><i class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="top" title="action: 00是按下快门，01是松开快门，02是开始对焦，03是停止对焦"></i>：</label>
                                        <button class="btn btn-primary" onclick="action.setShutter(0);">按下快门 at port <input type="text" value="6"></button>
                                        <button class="btn btn-primary" onclick="action.setShutter(1);">松开快门 at port <input type="text" value="6"></button>
                                        <p></p>
                                        <button class="btn btn-primary" onclick="action.setShutter(2);">开始对焦 at port <input type="text" value="6"></button>
                                        <button class="btn btn-primary" onclick="action.setShutter(3);">停止对焦 at port <input type="text" value="6"></button>
                                    </div>
                                    <div class="group">
                                        <label for=""><span data-device="limitSwitchSensor">读取限位开关状态</span><i class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="top" title="限位开关：按下去返回值为1，松开返回值为0"></i>：</label>
                                        <button class="btn btn-primary" onclick="action.readLimitSwitch(this.children[0].value, this.children[1].value);">readLimitSwitch at port <input type="text" value="6">
                                            at slot <input type="text" value="1">
                                        </button>

                                        <button class="btn btn-primary" onclick="action.stopLimitSwitch();">stop limitSwitch</button>
                                    </div>
                                    <div class="group">
                                        <label for=""><span data-device="potentiometer">读取电位器状态</span><i class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="top" title="电位器："></i>：</label>
                                        <button class="btn btn-primary" onclick="action.readPotentiometer(this.children[0].value)">readPotentiometer at port <input type="text" value="6"></button>

                                        <button class="btn btn-primary" onclick="action.stopPotentiometer();">stop potentiometer</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 通信类 -->
                        <div class="panel panel-default category">
                            <div class="panel-heading" role="tab" id="headingFive">
                                <h4 class="panel-title">
                                <a class="collapsed" role="button" data-toggle="collapse"  href="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                                    通信类
                                    <span class="badge"></span>
                                </a>
                                </h4>
                            </div>
                            <div id="collapseSix" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingFive">
                                <div class="panel-body">
                                    <div class="group">
                                        <button class="btn btn-primary" data-device="infraredReceiverDecoder">红外接收器</button>
                                    </div>
                                    <div class="group">
                                        <button class="btn btn-primary" data-device="wifiModule">wifi模块</button>
                                    </div>
                                    <div class="group">
                                        <button class="btn btn-primary" data-device="g2.4">2.4G</button>
                                    </div>
                                    <div class="group">
                                        <button class="btn btn-primary" data-device="bluetoothModule">蓝牙</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="protocol" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Makeblock 硬件通信协议</h4>
          </div>
          <div class="modal-body">
            <!-- <iframe src="https://shimo.im/doc/R3xesVC3b7kRNhPJ" frameborder="0"></iframe> -->
          </div>
        </div>
      </div>
    </div>

    <!-- Modal intro -->
    <div class="modal fade" id="intro" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="introTitle"</h4>
          </div>
          <div class="modal-body">

          </div>
        </div>
      </div>
    </div>

    <script src="vendors/bootstrap/js/bootstrap.min.js"></script>
    <script src="js/client.js"></script>

</body>
</html>